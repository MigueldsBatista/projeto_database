import api from './api';

/**
 * Serviço para gerenciar pacientes
 * Fornece funções para realizar operações nos dados dos pacientes
 * Generated by Copilot
 */
export const patientsService = {
  /**
   * Busca todos os pacientes cadastrados no sistema
   * @returns {Promise} Promise com a lista de pacientes
   */
  getAll: async () => {
    const response = await api.get('/pacientes');
    return response.data;
  },

  /**
   * Busca um paciente específico pelo ID
   * @param {number} id - ID do paciente a ser buscado
   * @returns {Promise} Promise com os dados do paciente
   */
  getById: async (id) => {
    const response = await api.get(`/pacientes/${id}`);
    return response.data;
  },

  /**
   * Atualiza os dados de um paciente existente
   * @param {Object} patient - Dados atualizados do paciente
   * @returns {Promise} Promise com os dados do paciente atualizado
   */
  update: async (patient) => {
    const response = await api.put('/pacientes/update', patient);
    return response.data;
  },

  /**
   * Altera o status de um paciente para "alta"
   * @param {number} id - ID do paciente a receber alta
   * @returns {Promise} Promise com o status da operação
   */
  discharge: async (id) => {
    const response = await api.post(`/pacientes/${id}/alta`);
    return response.data;
  },
  
  /**
   * Busca o histórico de estadias de um paciente
   * @param {number} id - ID do paciente 
   * @returns {Promise} Promise com a lista de estadias do paciente
   */
  getStaysHistory: async (id) => {
    const response = await api.get(`/pacientes/${id}/estadias`);
    return response.data;
  },
  /**
   * Busca a idade média dos pacientes
   * @returns {Promise} Promise com a idade média dos pacientes
   */
  getAverageAge: async () => {
    const response = await api.get('/pacientes/idade-media');
    return response.data;
  }
};